# http://thedrearlight.com/blog/tmux-vim.html
# zsh is kinda tight
set-option -g default-shell $SHELL

# copy and paster
set-option -g default-command "reattach-to-user-namespace -l zsh"

# look good
set -g default-terminal "screen-256color"

# act like GNU screen
# `CTRL + a a` to go to the begining of line annoys me.
# unbind C-b
# set -g prefix C-a

# http://robots.thoughtbot.com/tmux-copy-paste-on-os-x-a-better-future
# Use vim keybindings in copy mode
# https://github.com/Casecommons/casecommons_workstation/blob/master/templates/default/dot_tmux.conf.erb
set-window-option -g mode-keys vi

# Change cursor in vim to distinguish between insert and command mode
set-option -g terminal-overrides '*88col*:colors=88,*256col*:colors=256,xterm*:XT:Ms=\E]52;%p1%s;%p2%s\007:Cc=\E]12;%p1%s\007:Cr=\E]112\007:Cs=\E]50;CursorShape=%?%p1%{3}%<%t%{0}%e%p1%{2}%-%;%d\007'

# scrollback buffer size increase
set -g history-limit 500000


# Highlight active window
set-window-option -g window-status-current-bg red

# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# http://pivotallabs.com/how-we-use-tmux-for-remote-pair-programming/
# Enable mouse support (works in iTerm)
set-window-option -g mode-mouse on
set-option -g mouse-select-pane on
set-option -g mouse-resize-pane on
set-option -g mouse-select-window on


# after copying to a tmux buffer, hit y again to copy to clipboard
# bind y run "tmux save-buffer - | reattach-to-user-namespace pbcopy"

bind a send-prefix
bind q confirm-before kill-session
bind d confirm-before detach

# https://gist.github.com/brunobuccolo/9bc40938b9c182662325
bind -n C-Right next-window
bind -n C-Left previous-window
bind -n C-Up new-window
bind -n C-Down confirm-before kill-window

bind -n S-C-Up select-pane -U
bind -n S-C-Down select-pane -D
bind -n S-C-Left select-pane -L
bind -n S-C-Right select-pane -R

# bind -n ` last-window
